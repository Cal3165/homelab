{
  "version": 4,
  "terraform_version": "1.6.4",
  "serial": 13,
  "lineage": "548fdebb-eb6d-ffa1-6b88-f1c3c3372f48",
  "outputs": {
    "argocd_id": {
      "value": "17a62b77aee277844ba503e3ff267d2c",
      "type": "string"
    },
    "argocd_secret": {
      "value": "W9MTeZ7TOGGxOuZwoLW1JN58lvV5jnFh56hfy8RLoTQzwyzEiTlOLDp1DVpFtyKVxEs6p5fwaZgGoPQHLvs3H6Tytsdu6iOQ3xYYLHFNGOrjevd4Lu9iJFCGylOZgxAG",
      "type": "string",
      "sensitive": true
    },
    "grafana_id": {
      "value": "c611d2fef5cfed7ebea50807f1527fb9",
      "type": "string"
    },
    "grafana_secret": {
      "value": "G6vqe8BC3mC98Go2xXGc3Woq38FM7YKJcM4PmTFyF0CncTA1MAuml9p1zcpQL6ktoxL0w8jESK075Nnd9ui65e9tnjHY9GI2ziXt3WzhwbR1b9jhwxY4RSvdgklbmHSx",
      "type": "string",
      "sensitive": true
    },
    "homepage-token": {
      "value": "92Rm2r1riCf6wK7kknaYso8fzY8KXXvfQoN0DjD4d2XGMSCHdSzyTsbU4i2c",
      "type": "string",
      "sensitive": true
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "authentik_group",
      "name": "akadmins",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "0bf04500-c7e4-48e6-afd2-2acc4aa1a555",
            "is_superuser": true,
            "name": "authentik Admins",
            "num_pk": 15869,
            "parent": "",
            "parent_name": "",
            "pk": "0bf04500-c7e4-48e6-afd2-2acc4aa1a555",
            "users": [
              6
            ],
            "users_obj": [
              {
                "attributes": "{}",
                "email": "admin@notusa.uk",
                "is_active": true,
                "last_login": "2024-06-14T22:25:59.613461Z",
                "name": "authentik Default Admin",
                "pk": 6,
                "uid": "019070b1af40613136e89d9091b863704c889ecfda23b29066e839db962e9f14",
                "username": "akadmin"
              }
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "authentik_scope_mapping",
      "name": "scope-email",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Email address",
            "expression": "return {\n    \"email\": request.user.email,\n    \"email_verified\": True\n}",
            "id": "00f3d95a-87c9-46cf-8a40-72195120bf77",
            "ids": null,
            "managed": null,
            "managed_list": null,
            "name": "authentik default OAuth Mapping: OpenID 'email'",
            "scope_name": "email"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "authentik_scope_mapping",
      "name": "scope-openid",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "expression": "# This scope is required by the OpenID-spec, and must as such exist in authentik.\n# The scope by itself does not grant any information\nreturn {}",
            "id": "6f329c02-3888-4350-8c5e-e81b05f74d5b",
            "ids": null,
            "managed": null,
            "managed_list": null,
            "name": "authentik default OAuth Mapping: OpenID 'openid'",
            "scope_name": "openid"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "authentik_scope_mapping",
      "name": "scope-profile",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "General Profile Information",
            "expression": "return {\n    # Because authentik only saves the user's full name, and has no concept of first and last names,\n    # the full name is used as given name.\n    # You can override this behaviour in custom mappings, i.e. `request.user.name.split(\" \")`\n    \"name\": request.user.name,\n    \"given_name\": request.user.name,\n    \"preferred_username\": request.user.username,\n    \"nickname\": request.user.username,\n    # groups is not part of the official userinfo schema, but is a quasi-standard\n    \"groups\": [group.name for group in request.user.ak_groups.all()],\n}",
            "id": "d91e500e-b3a2-43e3-a5c7-18aae2237ebc",
            "ids": null,
            "managed": null,
            "managed_list": null,
            "name": "authentik default OAuth Mapping: OpenID 'profile'",
            "scope_name": "profile"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "authentik_user",
      "name": "akadmin",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "avatar": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NHB4IiBoZWlnaHQ9IjY0cHgiIHZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIj48cmVjdCBmaWxsPSIjMzc3YjM3IiBjeD0iMzIiIGN5PSIzMiIgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByPSIzMiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBzdHlsZT0iY29sb3I6ICNmZmY7IGxpbmUtaGVpZ2h0OiAxOyBmb250LWZhbWlseTogJ1JlZEhhdFRleHQnLCdPdmVycGFzcycsb3ZlcnBhc3MsaGVsdmV0aWNhLGFyaWFsLHNhbnMtc2VyaWY7ICIgZmlsbD0iI2ZmZiIgYWxpZ25tZW50LWJhc2VsaW5lPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMjgiIGZvbnQtd2VpZ2h0PSI0MDAiIGR5PSIuMWVtIj5BQTwvdGV4dD48L3N2Zz4=",
            "email": "admin@notusa.uk",
            "groups": [
              "0bf04500-c7e4-48e6-afd2-2acc4aa1a555"
            ],
            "id": "6",
            "is_active": true,
            "is_superuser": true,
            "last_login": "2024-06-14T22:25:59.613461Z",
            "name": "authentik Default Admin",
            "path": "users",
            "pk": 6,
            "type": "internal",
            "uid": "019070b1af40613136e89d9091b863704c889ecfda23b29066e839db962e9f14",
            "username": "akadmin",
            "uuid": "c6b5f598-1596-4d9b-8451-6ba601adcb5b"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "authentik_group",
      "name": "admin",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "267b211a-f94c-49cb-846c-df1e830a90fb",
            "is_superuser": true,
            "name": "Admin",
            "parent": null,
            "users": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "authentik_token",
      "name": "homepage-token",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "A Token For Homepage Intergration",
            "expires": null,
            "expires_in": 1799,
            "expiring": false,
            "id": "homepage-token",
            "identifier": "homepage-token",
            "intent": "api",
            "key": "92Rm2r1riCf6wK7kknaYso8fzY8KXXvfQoN0DjD4d2XGMSCHdSzyTsbU4i2c",
            "retrieve_key": true,
            "user": 6
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.authentik_user.akadmin"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "authentik_user",
      "name": "caleb",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "email": "",
            "groups": [
              "0bf04500-c7e4-48e6-afd2-2acc4aa1a555",
              "267b211a-f94c-49cb-846c-df1e830a90fb"
            ],
            "id": "7",
            "is_active": true,
            "name": "Caleb",
            "password": null,
            "path": "users",
            "type": "internal",
            "username": "caleb"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "authentik_group.admin",
            "data.authentik_group.akadmins"
          ]
        }
      ]
    },
    {
      "module": "module.argocd",
      "mode": "data",
      "type": "authentik_flow",
      "name": "default-provider-authorization-implicit-consent",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authentication": "require_authenticated",
            "designation": "authorization",
            "id": "f3038c6b-95d3-4e3a-94e6-ae6ce17a1d07",
            "name": "Authorize Application",
            "slug": "default-provider-authorization-implicit-consent",
            "title": "Redirecting to %(app)s"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.argocd",
      "mode": "managed",
      "type": "authentik_application",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backchannel_providers": null,
            "group": "",
            "id": "argocd",
            "meta_description": "",
            "meta_icon": "",
            "meta_launch_url": "",
            "meta_publisher": "",
            "name": "ArgoCD",
            "open_in_new_tab": false,
            "policy_engine_mode": "any",
            "protocol_provider": 1,
            "slug": "argocd",
            "uuid": "f9d6be96-4712-485e-95fa-0787ab4ea2fc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.authentik_scope_mapping.scope-email",
            "data.authentik_scope_mapping.scope-openid",
            "data.authentik_scope_mapping.scope-profile",
            "module.argocd.authentik_provider_oauth2.provider",
            "module.argocd.data.authentik_flow.default-provider-authorization-implicit-consent"
          ]
        }
      ]
    },
    {
      "module": "module.argocd",
      "mode": "managed",
      "type": "authentik_group",
      "name": "app_admin_group",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "95f98f29-4169-45d0-9009-526a0e1830e5",
            "is_superuser": true,
            "name": "ArgoCD Admins",
            "parent": null,
            "users": [
              6,
              7
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "authentik_group.admin",
            "authentik_user.caleb",
            "data.authentik_group.akadmins",
            "data.authentik_user.akadmin"
          ]
        }
      ]
    },
    {
      "module": "module.argocd",
      "mode": "managed",
      "type": "authentik_group",
      "name": "app_groups",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "index_key": "ArgoCD Viewers",
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "2df8d829-2cb9-42cf-b18a-e714e63d5138",
            "is_superuser": false,
            "name": "ArgoCD Viewers",
            "parent": null,
            "users": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.argocd",
      "mode": "managed",
      "type": "authentik_provider_oauth2",
      "name": "provider",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_code_validity": "minutes=1",
            "access_token_validity": "minutes=10",
            "authentication_flow": "",
            "authorization_flow": "f3038c6b-95d3-4e3a-94e6-ae6ce17a1d07",
            "client_id": "17a62b77aee277844ba503e3ff267d2c",
            "client_secret": "W9MTeZ7TOGGxOuZwoLW1JN58lvV5jnFh56hfy8RLoTQzwyzEiTlOLDp1DVpFtyKVxEs6p5fwaZgGoPQHLvs3H6Tytsdu6iOQ3xYYLHFNGOrjevd4Lu9iJFCGylOZgxAG",
            "client_type": "confidential",
            "id": "1",
            "include_claims_in_id_token": true,
            "issuer_mode": "per_provider",
            "jwks_sources": null,
            "name": "ArgoCD",
            "property_mappings": [
              "00f3d95a-87c9-46cf-8a40-72195120bf77",
              "d91e500e-b3a2-43e3-a5c7-18aae2237ebc",
              "6f329c02-3888-4350-8c5e-e81b05f74d5b"
            ],
            "redirect_uris": [
              "https://argocd.notusa.uk/api/dex/callback",
              "http://localhost:8085/auth/callback"
            ],
            "refresh_token_validity": "days=30",
            "signing_key": "",
            "sub_mode": "hashed_user_id"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.authentik_scope_mapping.scope-email",
            "data.authentik_scope_mapping.scope-openid",
            "data.authentik_scope_mapping.scope-profile",
            "module.argocd.data.authentik_flow.default-provider-authorization-implicit-consent"
          ]
        }
      ]
    },
    {
      "module": "module.grafana",
      "mode": "data",
      "type": "authentik_flow",
      "name": "default-provider-authorization-implicit-consent",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authentication": "require_authenticated",
            "designation": "authorization",
            "id": "f3038c6b-95d3-4e3a-94e6-ae6ce17a1d07",
            "name": "Authorize Application",
            "slug": "default-provider-authorization-implicit-consent",
            "title": "Redirecting to %(app)s"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.grafana",
      "mode": "managed",
      "type": "authentik_application",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backchannel_providers": null,
            "group": "",
            "id": "grafana",
            "meta_description": "",
            "meta_icon": "",
            "meta_launch_url": "",
            "meta_publisher": "",
            "name": "Grafana",
            "open_in_new_tab": false,
            "policy_engine_mode": "any",
            "protocol_provider": 2,
            "slug": "grafana",
            "uuid": "7936dd25-e9c9-4d8c-9a09-c0ee43d5483e"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.authentik_scope_mapping.scope-email",
            "data.authentik_scope_mapping.scope-openid",
            "data.authentik_scope_mapping.scope-profile",
            "module.grafana.authentik_provider_oauth2.provider",
            "module.grafana.data.authentik_flow.default-provider-authorization-implicit-consent"
          ]
        }
      ]
    },
    {
      "module": "module.grafana",
      "mode": "managed",
      "type": "authentik_group",
      "name": "app_admin_group",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "61478783-099a-41a9-a0bf-ad2aa179d7ef",
            "is_superuser": true,
            "name": "Grafana Admins",
            "parent": null,
            "users": [
              6,
              7
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "authentik_group.admin",
            "authentik_user.caleb",
            "data.authentik_group.akadmins",
            "data.authentik_user.akadmin"
          ]
        }
      ]
    },
    {
      "module": "module.grafana",
      "mode": "managed",
      "type": "authentik_group",
      "name": "app_groups",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "index_key": "Grafana Editors",
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "a59e92a3-3b91-49bd-9636-67f357579408",
            "is_superuser": false,
            "name": "Grafana Editors",
            "parent": null,
            "users": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        },
        {
          "index_key": "Grafana Viewers",
          "schema_version": 0,
          "attributes": {
            "attributes": "{}",
            "id": "25a2b664-5efa-437d-a5d0-d2cb583723b2",
            "is_superuser": false,
            "name": "Grafana Viewers",
            "parent": null,
            "users": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.grafana",
      "mode": "managed",
      "type": "authentik_provider_oauth2",
      "name": "provider",
      "provider": "provider[\"registry.terraform.io/goauthentik/authentik\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_code_validity": "minutes=1",
            "access_token_validity": "minutes=10",
            "authentication_flow": "",
            "authorization_flow": "f3038c6b-95d3-4e3a-94e6-ae6ce17a1d07",
            "client_id": "c611d2fef5cfed7ebea50807f1527fb9",
            "client_secret": "G6vqe8BC3mC98Go2xXGc3Woq38FM7YKJcM4PmTFyF0CncTA1MAuml9p1zcpQL6ktoxL0w8jESK075Nnd9ui65e9tnjHY9GI2ziXt3WzhwbR1b9jhwxY4RSvdgklbmHSx",
            "client_type": "confidential",
            "id": "2",
            "include_claims_in_id_token": true,
            "issuer_mode": "per_provider",
            "jwks_sources": null,
            "name": "Grafana",
            "property_mappings": [
              "00f3d95a-87c9-46cf-8a40-72195120bf77",
              "d91e500e-b3a2-43e3-a5c7-18aae2237ebc",
              "6f329c02-3888-4350-8c5e-e81b05f74d5b"
            ],
            "redirect_uris": [
              "https://grafana.notusa.uk/login/generic_oauth"
            ],
            "refresh_token_validity": "days=30",
            "signing_key": "",
            "sub_mode": "hashed_user_id"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.authentik_scope_mapping.scope-email",
            "data.authentik_scope_mapping.scope-openid",
            "data.authentik_scope_mapping.scope-profile",
            "module.grafana.data.authentik_flow.default-provider-authorization-implicit-consent"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
